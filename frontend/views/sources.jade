//- 
	Catalog web/view

	Copyright 2014 Commons Machinery http://commonsmachinery.se/

	Authors:
		Elsa Balderrama <elsa@commonsmachinery.se>

	Distributed under an AGPL_v3 license, please see LICENSE in the top dir.

- var sources = data
mixin branch(data)
	dl
		for val, key in data
			dt #{key}:
				if(typeof val == 'object')
					dd 
						+branch(val)
				else
					if owner
						input.editable(name="#{key}" disabled value="#{val}")
					else
						dd(name="#{key}") #{val}

include includes/top
	div.bootstrapData #{JSON.stringify(data)}
	div#sources
		input.add(type="button" value="+")
		for source in sources
			h2: a(href="#{source.resource}") #{source.id}
			a(href="#{source.metadata}") (see metadata...)
			- delete source.id
			- delete source.resource
			- delete source.metadata
			- source.created = new Date(source.created).toString();
			+branch(source)
include includes/bottom