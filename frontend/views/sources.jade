//- 
	Catalog web/view

	Copyright 2014 Commons Machinery http://commonsmachinery.se/

	Authors:
		Elsa Balderrama <elsa@commonsmachinery.se>

	Distributed under an AGPL_v3 license, please see LICENSE in the top dir.

- var sources = data
- data = {"data":sources};
- var stringData = JSON.stringify(data);

mixin sourceView(data)
	- data = data || {}
	div.post
		h2: a(href="#{data.resource || ''}" name="id") #{data.id || ''}
		| by 
		span(name="creator") #{data.creator || ''} 
		| on 
		span(name="created") #{data.created || ''}
		br
		| last updated by 
		span(name="updatedBy") #{data.updatedBy || ' --- '} 
		| on 
		span(name="updated") #{data.updated || ' --- '}



script#formTemplate
	form
		label(for="resource") URL: 
		input(type="text" name="resource" default="http://")
		input.save(type="button" value="save")
script#sourceTemplate
	+sourceView()
div.bootstrapData #{stringData}

include includes/top
	div#sources
		input.add(type="button" value="+")
		for source in sources
			+sourceView(source)
include includes/bottom